<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <title>Balatro Calculator - Advanced Score Calculator for Balatro Game</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="styles/header.css">
  <link rel="stylesheet" href="styles/calculator-section.css">
  <link rel="stylesheet" href="styles/features-section.css">
  <link rel="stylesheet" href="styles/seo-content.css">
  <link rel="stylesheet" href="styles/footer.css">
  <link rel="stylesheet" href="styles/language-switcher.css">
  <meta name="description" content="Use the Balatro Calculator to calculate scores, optimize strategies, and master the game. Support for all Jokers, special decks, and advanced combinations.">
  <meta name="keywords" content="Balatro, calculator, balatro calculator, hand calculator, joker calculator, game tools, plasma deck, score optimization">
  <meta name="author" content="@EFHIII">
  <meta property="og:title" content="Balatro Calculator - Score Calculator & Strategy Tool">
  <meta property="og:description" content="Calculate scores for any Balatro hand and discover optimal strategies with our advanced calculator tool">
  <meta property="og:url" content="https://efhiii.github.io/balatro-calculator">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0" />
  <script type="application/ld+json" src="structured-data-new.jsonld"></script>
  <link rel="canonical" href="https://efhiii.github.io/balatro-calculator" />
</head>
<body>
  <div id="app" class="container-fluid">
    <!-- Header component -->
    <div id="header-component"></div>
    
    <!-- Calculator section component -->
    <div id="calculator-section-component"></div>
    
    <!-- Features section component -->
    <div id="features-section-component"></div>
    
    <!-- SEO content component -->
    <div id="seo-content-component"></div>
    
    <!-- Footer component -->
    <div id="footer-component"></div>
  </div>
  
  <!-- Component scripts -->
  <script src="components/Header.js"></script>
  <script src="components/CalculatorSection.js"></script>
  <script src="components/FeaturesSection.js"></script>
  <script src="components/SeoContent.js"></script>
  <script src="components/Footer.js"></script>
  <script src="components/LanguageSwitcher.js"></script>
  <script src="components/LanguageProvider.js"></script>
  
  <!-- Main script -->
  <script>
    // Load components when DOM is ready
    document.addEventListener('DOMContentLoaded', async function() {
      // Load Header component
      document.getElementById('header-component').innerHTML = createHeader();
      
      // 在header中添加语言切换器
      const navigationElement = document.querySelector('.navigation');
      if (navigationElement) {
        navigationElement.insertAdjacentHTML('beforeend', createLanguageSwitcher());
      }
      
      // Load Calculator Section component
      document.getElementById('calculator-section-component').innerHTML = createCalculatorSection();
      
      // Load Features Section component
      document.getElementById('features-section-component').innerHTML = createFeaturesSection();
      
      // Load SEO Content component
      document.getElementById('seo-content-component').innerHTML = createSeoContent();
      
      // Load Footer component
      document.getElementById('footer-component').innerHTML = createFooter();
      
      // 初始化语言
      await initLanguage();
      
      // 添加语言切换事件监听
      document.querySelectorAll('.language-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          switchLanguage(this.dataset.lang);
        });
      });
      
      // Setup iframe resizing
      adjustIframeSize();
      window.addEventListener('resize', adjustIframeSize);
      
      // Setup smooth scrolling
      setupSmoothScroll();
    });

    // Function to adjust iframe size
    function adjustIframeSize() {
      const iframe = document.getElementById('calculator-iframe');
      if (!iframe) return;
      
      // Adjust height based on viewport width
      if (window.innerWidth < 768) {
        iframe.style.height = '450px';
      } else {
        iframe.style.height = '600px';
      }
    }

    // Function for smooth scrolling
    function setupSmoothScroll() {
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          
          const targetId = this.getAttribute('href');
          if (targetId === '#') return;
          
          const targetElement = document.querySelector(targetId);
          if (targetElement) {
            targetElement.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });
    }
  </script>
      <!-- Google Analytics -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-S7M3VNSHKC"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-S7M3VNSHKC');
      </script>
      
      <!-- Plausible Analytics -->
      <script defer data-domain="balatro-calculator.com" src="https://bibleversegenerator.net/js/script.file-downloads.hash.outbound-links.pageview-props.revenue.tagged-events.js"></script>
      <script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script>
 
</body>
</html>
